:root{--red:#cc0000;--red-deep:#a50000;--blue:#0a4bff;--ink:#111;--muted:#6b7280;--bg:#fafafa;--card:#ffffff;--ring:#e6e6e6;--ring-fg:#cc0000;--success:#11a64a;--gold:#ffb400;--shadow:0 6px 18px rgba(20,20,33,.08)}*{box-sizing:border-box}body{margin:0;font-family:ui-serif,Georgia,serif;color:var(--ink);background:var(--bg)}a{color:var(--blue);text-decoration:none}a:hover{text-decoration:underline}.app-header{position:sticky;top:0;z-index:10;display:flex;justify-content:space-between;align-items:center;padding:14px 18px;background:var(--card);box-shadow:var(--shadow)}.brand{font-weight:800;font-size:1.4rem;display:flex;align-items:center;gap:.5rem}.brand-dot{color:var(--red);font-size:1.6rem;line-height:1;cursor:pointer}.brand-sub{font-weight:600;color:var(--muted);margin-left:.25rem}.header-right{display:flex;align-items:center;gap:14px}.streak{font-weight:700}.ring{position:relative;width:56px;height:56px}.ring svg{transform:rotate(-90deg)}.ring-bg,.ring-fg{fill:none;stroke-width:10px}.ring-bg{stroke:var(--ring)}.ring-fg{stroke:var(--ring-fg);stroke-linecap:round;transition:stroke-dasharray .6s ease}.ring-label{position:absolute;inset:0;display:grid;place-items:center;font-size:.75rem;font-weight:700}.punchcard{display:flex;gap:10px;align-items:center;justify-content:flex-start;padding:10px 18px;margin:10px 18px;border-radius:14px;background:var(--card);box-shadow:var(--shadow);flex-wrap:wrap}.punch-slot{display:flex;align-items:center;gap:8px;padding:8px 12px;border:2px dashed #ddd;border-radius:100px;background:#fff;color:var(--muted);font-weight:700}.punch-slot.filled{border-color:var(--success);color:var(--success);background:#f1fff6}.layout{display:grid;grid-template-columns:320px 1fr;gap:18px;padding:18px;align-items:start}.story-list{background:var(--card);border-radius:16px;box-shadow:var(--shadow);padding:12px;max-height:calc(100dvh - 170px);overflow:auto}.story-item{display:block;padding:10px 12px;border-radius:10px;border:1px solid #eee;margin-bottom:8px;background:#fff}.story-item.active{border-color:var(--red);box-shadow:0 0 0 2px rgba(204,0,0,.15) inset}.story-item .title{font-weight:800}.story-item .meta{color:var(--muted);font-size:.85rem;margin-top:2px}.reader{background:var(--card);border-radius:16px;box-shadow:var(--shadow);padding:22px;min-height:420px}.reader h1{font-size:2rem;margin:0 0 .25rem}.reader .meta{color:var(--muted);display:flex;gap:8px;align-items:center}.reader .summary{margin-top:14px;line-height:1.55}.controls{display:flex;gap:10px;align-items:center;margin-top:18px}.btn{border:1px solid #ddd;background:#fff;padding:10px 14px;border-radius:10px;cursor:pointer;font-weight:700}.btn:hover{border-color:#bbb}.btn.primary{background:var(--red);border-color:var(--red);color:#fff}.btn.ghost{background:#fff;border-color:#e5e7eb}.btn.icon{padding:6px 10px}.autoplay{margin-left:auto;color:var(--muted);font-weight:600}.toast{position:fixed;right:16px;bottom:16px;background:#111;color:#fff;padding:10px 14px;border-radius:10px;opacity:0;transform:translateY(10px);transition:all .25s ease;pointer-events:none}.toast.show{opacity:1;transform:none}.micro-feedback{opacity:0;transform:translateY(6px);color:var(--success);font-weight:800}.micro-feedback.show{animation:pulse .9s ease}@keyframes pulse{0%{opacity:0;transform:translateY(6px) scale(.96)}40%{opacity:1;transform:none}100%{opacity:0}}.modal{border:none;padding:0;background:rgba(0,0,0,.35)}.modal-card{margin:auto;width:min(760px,94vw);border:none;border-radius:16px;box-shadow:var(--shadow);background:#fff}.modal-header{display:flex;justify-content:space-between;align-items:center;padding:14px 16px;border-bottom:1px solid #eee}.modal-body{padding:14px 16px}.leaderboard{padding-left:18px}.leaderboard li{margin:6px 0;padding:6px 10px;border:1px solid #eee;border-radius:10px;background:#fff;display:flex;justify-content:space-between}.achievements{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:10px;list-style:none;padding:0;margin:0}.achievements li{background:#fff;border:1px solid #eee;border-radius:12px;padding:10px;display:grid;gap:6px}.badge-title{font-weight:800}.badge-desc{color:var(--muted);font-size:.85rem}.badge-earned{color:#ffb400;font-weight:800}.friend-tools{display:flex;gap:16px;align-items:center;flex-wrap:wrap;margin-top:12px}.add-friend input{padding:8px 10px;border:1px solid #ddd;border-radius:8px}.muted{color:var(--muted)}.egg-overlay{pointer-events:none;position:fixed;inset:0;display:none}.egg-overlay.show{display:block}.egg{position:absolute;width:10px;height:16px;background:linear-gradient(180deg,var(--red),var(--red-deep));opacity:.95;border-radius:2px;animation:eggfall 2s ease-in forwards}.egg:nth-child(3n){background:linear-gradient(180deg,#0a4bff,#0734b1)}@keyframes eggfall{to{transform:translateY(96vh) rotate(540deg);opacity:.2}}.confetti{position:fixed;inset:0;pointer-events:none;display:none}.confetti.show{display:block}.piece{position:absolute;width:8px;height:14px;border-radius:2px;opacity:.9;animation:fall 1.6s ease-in forwards}@keyframes fall{to{transform:translateY(92vh) rotate(720deg);opacity:.2}}@media (max-width:980px){.layout{grid-template-columns:1fr}}